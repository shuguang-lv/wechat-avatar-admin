<view><view class="uni-header"><view class="uni-group"><view class="uni-title"></view><view class="uni-sub-title"></view></view><view class="uni-group"><uni-data-picker style="width:400rpx;" vue-id="c8db6e0a-1" multiple="{{false}}" localdata="{{categoryList}}" value="{{query}}" data-event-opts="{{[['^change',[['search']]],['^input',[['__set_model',['','query','$event',[]]]]]]}}" bind:change="__e" bind:input="__e" bind:__l="__l"></uni-data-picker><button class="uni-button" type="default" size="mini" data-event-opts="{{[['tap',[['search',['$event']]]]]}}" bindtap="__e">搜索</button><button class="uni-button" type="default" size="mini" data-event-opts="{{[['tap',[['navigateTo',['./add']]]]]}}" bindtap="__e">新增</button><download-excel class="hide-on-phone" vue-id="c8db6e0a-2" fields="{{exportExcel.fields}}" data="{{exportExcelData}}" type="{{exportExcel.type}}" name="{{exportExcel.filename}}" bind:__l="__l" vue-slots="{{['default']}}"><button class="uni-button" type="primary" size="mini">导出 Excel</button></download-excel></view></view><view class="uni-container"><unicloud-db scoped-slots-compiler="augmented" class="vue-ref" vue-id="c8db6e0a-3" collection="{{collectionList}}" field="category_id{name},sign_content_sn,content,state,is_del,sort,add_date,last_modify_date" where="{{where}}" page-data="replace" orderby="{{orderby}}" getcount="{{true}}" page-size="{{options.pageSize}}" page-current="{{options.pageCurrent}}" options="{{options}}" loadtime="manual" data-ref="udb" data-event-opts="{{[['^load',[['onqueryload']]]]}}" bind:load="__e" bind:__l="__l" vue-slots="{{['default']}}"><block><block wx:if="{{$root.m0}}"><uni-table class="vue-ref" vue-id="{{('c8db6e0a-4')+','+('c8db6e0a-3')}}" loading="{{$root.m1}}" emptyText="{{$root.m2}}" border="{{true}}" stripe="{{true}}" type="section" data-ref="table" bind:__l="__l" vue-slots="{{['default']}}"><uni-tr vue-id="{{('c8db6e0a-5')+','+('c8db6e0a-4')}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-th vue-id="{{('c8db6e0a-6')+','+('c8db6e0a-5')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">序号</uni-th><uni-th vue-id="{{('c8db6e0a-7')+','+('c8db6e0a-5')}}" align="center" filter-type="select" filter-data="{{categoryList}}" data-event-opts="{{[['^filterChange',[['filterChange',['$event','state']]]]]}}" bind:filterChange="__e" bind:__l="__l" vue-slots="{{['default']}}">分类</uni-th><uni-th vue-id="{{('c8db6e0a-8')+','+('c8db6e0a-5')}}" align="center" filter-type="search" sortable="{{true}}" data-event-opts="{{[['^filterChange',[['filterChange',['$event','sign_content_sn']]]],['^sortChange',[['sortChange',['$event','sign_content_sn']]]]]}}" bind:filterChange="__e" bind:sortChange="__e" bind:__l="__l" vue-slots="{{['default']}}">编号</uni-th><uni-th vue-id="{{('c8db6e0a-9')+','+('c8db6e0a-5')}}" align="center" filter-type="search" data-event-opts="{{[['^filterChange',[['filterChange',['$event','content']]]]]}}" bind:filterChange="__e" bind:__l="__l" vue-slots="{{['default']}}">内容</uni-th><uni-th vue-id="{{('c8db6e0a-10')+','+('c8db6e0a-5')}}" align="center" filter-type="select" filter-data="{{$root.m3.filterData.state_localdata}}" data-event-opts="{{[['^filterChange',[['filterChange',['$event','state']]]]]}}" bind:filterChange="__e" bind:__l="__l" vue-slots="{{['default']}}">是否启用</uni-th><uni-th vue-id="{{('c8db6e0a-11')+','+('c8db6e0a-5')}}" align="center" filter-type="range" sortable="{{true}}" data-event-opts="{{[['^filterChange',[['filterChange',['$event','sort']]]],['^sortChange',[['sortChange',['$event','sort']]]]]}}" bind:filterChange="__e" bind:sortChange="__e" bind:__l="__l" vue-slots="{{['default']}}">排序</uni-th><uni-th vue-id="{{('c8db6e0a-12')+','+('c8db6e0a-5')}}" align="center" filter-type="timestamp" sortable="{{true}}" data-event-opts="{{[['^filterChange',[['filterChange',['$event','add_date']]]],['^sortChange',[['sortChange',['$event','add_date']]]]]}}" bind:filterChange="__e" bind:sortChange="__e" bind:__l="__l" vue-slots="{{['default']}}">创建时间</uni-th><uni-th vue-id="{{('c8db6e0a-13')+','+('c8db6e0a-5')}}" align="center" filter-type="timestamp" sortable="{{true}}" data-event-opts="{{[['^filterChange',[['filterChange',['$event','last_modify_date']]]],['^sortChange',[['sortChange',['$event','last_modify_date']]]]]}}" bind:filterChange="__e" bind:sortChange="__e" bind:__l="__l" vue-slots="{{['default']}}">最后修改时间</uni-th><uni-th vue-id="{{('c8db6e0a-14')+','+('c8db6e0a-5')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">操作</uni-th></uni-tr><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><uni-tr vue-id="{{('c8db6e0a-15-'+index)+','+('c8db6e0a-4')}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-td vue-id="{{('c8db6e0a-16-'+index)+','+('c8db6e0a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{index+1}}</uni-td><uni-td vue-id="{{('c8db6e0a-17-'+index)+','+('c8db6e0a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.category_id&&item.$orig.category_id.length?item.$orig.category_id[0].name:''}}</uni-td><uni-td vue-id="{{('c8db6e0a-18-'+index)+','+('c8db6e0a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.sign_content_sn}}</uni-td><uni-td vue-id="{{('c8db6e0a-19-'+index)+','+('c8db6e0a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.content}}</uni-td><uni-td vue-id="{{('c8db6e0a-20-'+index)+','+('c8db6e0a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.m4}}</uni-td><uni-td vue-id="{{('c8db6e0a-21-'+index)+','+('c8db6e0a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.sort}}</uni-td><uni-td vue-id="{{('c8db6e0a-22-'+index)+','+('c8db6e0a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}"><uni-dateformat vue-id="{{('c8db6e0a-23-'+index)+','+('c8db6e0a-22-'+index)}}" threshold="{{[0,0]}}" date="{{item.$orig.add_date}}" bind:__l="__l"></uni-dateformat></uni-td><uni-td vue-id="{{('c8db6e0a-24-'+index)+','+('c8db6e0a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}"><uni-dateformat vue-id="{{('c8db6e0a-25-'+index)+','+('c8db6e0a-24-'+index)}}" threshold="{{[0,0]}}" date="{{item.$orig.last_modify_date}}" bind:__l="__l"></uni-dateformat></uni-td><uni-td vue-id="{{('c8db6e0a-26-'+index)+','+('c8db6e0a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}"><view class="uni-group"><button class="uni-button" size="mini" type="primary" data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" data-event-params="{{({item:item.$orig})}}" bindtap="__e">修改</button><block wx:if="{{item.$orig.state}}"><button class="uni-button" size="mini" type="warn" data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" data-event-params="{{({item:item.$orig})}}" bindtap="__e">禁用</button></block><block wx:else><button class="uni-button" size="mini" type="primary" data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" data-event-params="{{({item:item.$orig})}}" bindtap="__e">启用</button><button class="uni-button" size="mini" type="warn" data-event-opts="{{[['tap',[['e3',['$event']]]]]}}" data-event-params="{{({item:item.$orig})}}" bindtap="__e">删除</button></block></view></uni-td></uni-tr></block></uni-table><view class="uni-pagination-box"><uni-pagination vue-id="{{('c8db6e0a-27')+','+('c8db6e0a-3')}}" show-icon="{{true}}" page-size="{{$root.m5.size}}" total="{{$root.m6.count}}" value="{{pagination.current}}" data-event-opts="{{[['^change',[['onPageChanged']]],['^input',[['__set_model',['$0','current','$event',[]],['pagination']]]]]}}" bind:change="__e" bind:input="__e" bind:__l="__l"></uni-pagination></view></block></block></unicloud-db></view></view>